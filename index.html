<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>MIDCARE - Capacity - Strategic - Population Level</title>
  <script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h2 { margin-bottom: 20px; }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      grid-gap: 20px;
    }
    .chart { border: 1px solid #ddd; border-radius: 8px; padding: 10px; }
  </style>
</head>
<body>
  <h2>MIDCARE - Capacity - Strategic - Population Level</h2>
  <div class="grid">
    <div id="popPlot" class="chart"></div>
    <div id="consPlot" class="chart"></div>
    <div id="cap2Plot" class="chart"></div>
    <div id="cap4Plot" class="chart"></div>
  </div>

  <script>
    // Example historic data
    const YEARS_HIST = [2010, 2015, 2020, 2025];
    const POP_H  = [360000, 380000, 400000, 415000];
    const CONS_H = [120, 150, 180, 240];
    const CAP2_H = [150, 160, 170, 180];
    const CAP4_H = [600, 700, 800, 900];

    // Projections
    const YEARS_PROJ = Array.from({length: 26}, (_,i) => 2025+i);
    const yPop0  = [415000, 495000];
    const yCons0 = [240, 1020];
    const yK20   = [180, 305];
    const yK40   = [900, 1120];

    // Helper: y-axis range
    function computeYRange(hist, proj) {
      const all = hist.concat(proj);
      const min = Math.min(...all);
      const max = Math.max(...all);
      return [0.95*min, 1.05*max];
    }

    // Layout helper
    function mkLayout(ytitle, yrange, { xTitle = "", plotTitle = "" } = {}) {
      return {
        title: (plotTitle
          ? { text: plotTitle, x: 0.02, xanchor: "left", y: 0.98, font: { size: 14 } }
          : undefined),
        margin: { l: 60, r: 10, t: 30, b: 60 },
        xaxis: {
          title: (xTitle ? { text: xTitle, standoff: 10 } : undefined),
          range: [2009, 2050],
          automargin: true
        },
        yaxis: {
          title: { text: ytitle },
          range: yrange,
          automargin: true
        },
        showlegend: false
      };
    }

    const cfg = {responsive: true};

    // TOP LEFT — Population
    Plotly.newPlot("popPlot", [
      {x:YEARS_HIST,y:POP_H,  mode:"lines", line:{color:"#d62728", width:2}},
      {x:[2025,2050],y:yPop0, mode:"lines", line:{color:"#1f77b4", width:3}}
    ], mkLayout("People", computeYRange(POP_H, [yPop0[1]]), { xTitle: "Year" }), cfg);

    // TOP RIGHT — Consultants
    Plotly.newPlot("consPlot", [
      {x:YEARS_HIST,y:CONS_H, mode:"lines", line:{color:"#d62728", width:2}},
      {x:[2025,2050],y:yCons0,mode:"lines", line:{color:"#1f77b4", width:3}}
    ], mkLayout("Consultants", computeYRange(CONS_H, [yCons0[1]]), { xTitle: "Year" }), cfg);

    // BOTTOM LEFT — Model 2 beds
    Plotly.newPlot("cap2Plot", [
      {x:YEARS_HIST,y:CAP2_H, mode:"lines", line:{color:"#d62728", width:2}},
      {x:[2025,2050],y:yK20,  mode:"lines", line:{color:"#1f77b4", width:3}}
    ], mkLayout("Beds", computeYRange(CAP2_H, [yK20[1]]), { plotTitle: "Model 2 beds" }), cfg);

    // BOTTOM RIGHT — Model 4 beds
    Plotly.newPlot("cap4Plot", [
      {x:YEARS_HIST,y:CAP4_H, mode:"lines", line:{color:"#d62728", width:2}},
      {x:[2025,2050],y:yK40,  mode:"lines", line:{color:"#1f77b4", width:3}}
    ], mkLayout("Beds", computeYRange(CAP4_H, [yK40[1]]), { plotTitle: "Model 4 beds" }), cfg);

  </script>
</body>
</html>























