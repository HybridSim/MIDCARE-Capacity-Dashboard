<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>MIDCARE - Capacity - Strategic - Population Level</title>
  <script src="https://cdn.plot.ly/plotly-2.32.0.min.js"></script>
  <!-- Import Poppins font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root { --gap: 12px; }
    * { box-sizing: border-box; }
    body { margin: 0; font-family: 'Poppins', sans-serif; color: #111; }
    header { padding: 14px 16px; border-bottom: 1px solid #eee; display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;}
    header h1 { margin: 0; font-size: 20px; letter-spacing: 0.2px; }
    .toolbar button {
      padding: 8px 10px; border: 1px solid #ddd; background:#fff; border-radius:10px; cursor:pointer;
      box-shadow: 0 1px 2px rgba(0,0,0,0.04); font-weight:600;
    }
    .toolbar button:disabled { opacity: .5; cursor: default; }
    .wrap { max-width: 1200px; margin: 0 auto; padding: 16px; }
    .controls {
      display: grid; grid-template-columns: repeat(auto-fit, minmax(230px, 1fr));
      gap: var(--gap); margin: 12px 0 16px;
    }
    .control { background: #fafafa; border: 1px solid #eee; border-radius: 12px; padding: 10px 12px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
    .control label { display: block; font-weight: 600; font-size: 12px; margin-bottom: 6px; }
    .control input[type=range] { width: 100%; }
    .control .val { font-variant-numeric: tabular-nums; font-size: 12px; color: #444; }
    .grid { display: grid; grid-template-columns: 1fr 1fr; grid-auto-rows: 420px; gap: var(--gap); }
    .card { padding: 6px; border: 1px solid #eee; border-radius: 12px; box-shadow: 0 1px 2px rgba(0,0,0,0.04); background: #fff; }
    .plotTitle { font-size: 14px; font-weight: 600; margin: 8px 6px 0 8px; color: #222; }
    #legendNote { margin: 8px 0 12px; font-size: 12px; color: #444; }
    .legendSwatch { display:inline-block; width:10px; height:10px; vertical-align:middle; margin-right:6px; border-radius:2px; }
    .red { background:#d62728; } .blue { background:#1f77b4; }
    @media (max-width: 900px) { .grid { grid-template-columns: 1fr; grid-auto-rows: 380px; } }
  </style>
</head>
<body>
  <header>
    <h1>MIDCARE - Capacity - Strategic - Population Level</h1>
    <div class="toolbar">
      <button id="play">▶ Play</button>
      <button id="pause" disabled>⏸ Pause</button>
      <button id="reset">⟲ Reset</button>
      <span id="yearLabel" style="margin-left:8px;font-weight:600;">Year: 2025</span>
    </div>
  </header>

  <div class="wrap">
    <!-- Controls -->
    <div class="controls">
      <div class="control">
        <label>Population growth rate (annual)</label>
        <input id="popRate" type="range" min="0.0" max="0.02" step="0.0001" value="0.0074">
        <div class="val"><span id="popRateVal">0.74%</span> / yr</div>
      </div>
      <div class="control">
        <label>Consultant increase rate (annual)</label>
        <input id="consRate" type="range" min="0.0" max="0.06" step="0.0005" value="0.035">
        <div class="val"><span id="consRateVal">3.50%</span> / yr</div>
      </div>
      <div class="control">
        <label>Model 2 bed growth multiplier</label>
        <input id="bedRate2" type="range" min="0.5" max="1.5" step="0.001" value="0.999">
        <div class="val">× <span id="bedRate2Val">0.999</span></div>
      </div>
      <div class="control">
        <label>Model 4 bed growth rate (annual)</label>
        <input id="bedRate4" type="range" min="0.00" max="0.20" step="0.0005" value="0.099">
        <div class="val"><span id="bedRate4Val">9.90%</span> / yr</div>
      </div>
      <div class="control">
        <label>Optimal bed occupancy (fraction)</label>
        <input id="optOcc" type="range" min="0.70" max="0.95" step="0.005" value="0.85">
        <div class="val"><span id="optOccVal">0.85</span></div>
      </div>
      <div class="control">
        <label>Normal length of stay (days)</label>
        <input id="los" type="range" min="3" max="10" step="0.1" value="5">
        <div class="val"><span id="losVal">5.0</span> days</div>
      </div>
      <div class="control">
        <label>Normal specialist-to-bed ratio</label>
        <input id="normSpecBed" type="range" min="0.2" max="1.0" step="0.001" value="0.557">
        <div class="val"><span id="normSpecBedVal">0.557</span> people/(beds·days)</div>
      </div>
      <div class="control">
        <label>Normal bed-to-patient ratio</label>
        <input id="normBedPat" type="range" min="0.002" max="0.02" step="0.0001" value="0.0051">
        <div class="val"><span id="normBedPatVal">0.0051</span> beds/person</div>
      </div>
    </div>

    <!-- Legend -->
    <div id="legendNote">
      <span class="legendSwatch red"></span>Historic to 2025 &nbsp;&nbsp;
      <span class="legendSwatch blue"></span>Projection from 2025 (animated)
    </div>

    <!-- Plots -->
    <div class="grid">
      <div class="card">
        <div class="plotTitle">Population — Midwest</div>
        <div id="popPlot"></div>
      </div>
      <div class="card">
        <div class="plotTitle">Consultants — Headcount</div>
        <div id="consPlot"></div>
      </div>
      <div class="card">
        <div class="plotTitle">Model 2 beds</div>
        <div id="cap2Plot"></div>
      </div>
      <div class="card">
        <div class="plotTitle">Model 4 beds</div>
        <div id="cap4Plot"></div>
      </div>
    </div>
  </div>

<script>
/* JS unchanged */
</script>
</body>
</html>











